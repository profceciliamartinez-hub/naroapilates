<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Clases Disponibles - Pilates</title><script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://cdn.tailwindcss.com"></script><script type="module">import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import{getFirestore,collection,doc,getDoc,setDoc}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";const firebaseConfig={apiKey:"AIzaSyAO8Is_N-NuyCDagkzaKoBWt-D4fIMLPKM",authDomain:"disponibilidadnaroa.firebaseapp.com",projectId:"disponibilidadnaroa",storageBucket:"disponibilidadnaroa.firebasestorage.app",messagingSenderId:"590731399322",appId:"1:590731399322:web:d1ee0883f34d47981ccf23"};const app=initializeApp(firebaseConfig);const db=getFirestore(app);window.firebaseDB={get:async(key)=>{try{const docRef=doc(db,"pilates",key);const docSnap=await getDoc(docRef);if(docSnap.exists())return{value:JSON.stringify(docSnap.data().data)};return null}catch(e){console.error(e);return null}},set:async(key,value)=>{try{await setDoc(doc(db,"pilates",key),{data:JSON.parse(value)});return true}catch(e){console.error(e);return false}}}</script></head><body><div id="root"></div><script type="text/babel">const{useState,useEffect}=React;const Calendar=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>;const MapPin=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>;const User=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>;const Edit3=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>;const Eye=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>;const Clock=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>;const Mail=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>;const X=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>;const Check=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>;const Bell=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>;const AlertCircle=p=><svg {...p} fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>;function PilatesSchedule(){const[mode,setMode]=useState('client');const[selectedSede,setSelectedSede]=useState('');const[schedules,setSchedules]=useState({recoleta:[],colegiales:[],palermo:[]});const[waitlists,setWaitlists]=useState({recoleta:[],colegiales:[],palermo:[]});const[inputText,setInputText]=useState('');const[loading,setLoading]=useState(true);const[showWaitlistModal,setShowWaitlistModal]=useState(false);const[selectedClass,setSelectedClass]=useState(null);const[waitlistForm,setWaitlistForm]=useState({nombre:'',apellido:'',email:''});const[alerts,setAlerts]=useState([]);const[isAdmin,setIsAdmin]=useState(false);const ADMIN_KEY='naroa123';const WHATSAPP_NUMBER='5491127966458';const sedes=[{id:'recoleta',name:'Recoleta',address:'Ayacucho y Posadas'},{id:'colegiales',name:'Colegiales',address:'Ciudad de la Paz y J. Newbery'},{id:'palermo',name:'Palermo',address:'Uriarte y El Salvador'}];const diasOrden=['lunes','martes','miercoles','jueves','viernes','sabado'];const allClassTimes={recoleta:{lunes:['07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],martes:['07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00'],miercoles:['07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],jueves:['07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],viernes:['07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','16:00','17:00','18:00','19:00','20:00'],sabado:['08:00','09:00','10:00','11:00','12:00']},colegiales:{lunes:['08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],martes:['08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],miercoles:['08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],jueves:['08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],viernes:['08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00'],sabado:['09:00','10:00','11:00','12:00']},palermo:{lunes:['08:00','09:00','10:00','11:00','12:00','16:00','17:00','18:00','19:00','20:00'],martes:['08:00','09:00','10:00','11:00','12:00','16:00','17:00','18:00','19:00','20:00'],miercoles:['08:00','09:00','10:00','11:00','12:00','16:00','17:00','18:00','19:00','20:00','21:00'],jueves:['08:00','09:00','10:00','11:00','16:00','17:00','18:00','19:00','20:00'],viernes:['08:00','09:00','10:00','11:00','12:00','16:00','17:00','18:00','19:00'],sabado:['09:00','10:00','11:00','12:00']}};const instructorSchedule={palermo:{lunes:{'08:00':'MANU','09:00':'MANU','10:00':'MANU','11:00':'MANU','12:00':'MANU','16:00':'CHIARA','17:00':'CHIARA','18:00':'CHIARA','19:00':'CHIARA','20:00':'CHIARA'},martes:{'08:00':'MILAGROS','09:00':'MILAGROS','10:00':'MILAGROS','11:00':'MILAGROS','12:00':'MILAGROS','16:00':'MILI','17:00':'MILI','18:00':'MILI','19:00':'MILI','20:00':'MILI'},miercoles:{'08:00':'CHIARA','09:00':'CHIARA','10:00':'CHIARA','11:00':'CHIARA','12:00':'CHIARA','16:00':'GIANFRANCO','17:00':'GIANFRANCO','18:00':'GIANFRANCO','19:00':'GIANFRANCO','20:00':'CLAUDIO','21:00':'CLAUDIO'},jueves:{'08:00':'MILAGROS','09:00':'MILAGROS','10:00':'MILAGROS','11:00':'MILAGROS','16:00':'MILI','17:00':'MILI','18:00':'MILI','19:00':'MILI','20:00':'MILI'},viernes:{'08:00':'ROSARIO','09:00':'ROSARIO','10:00':'ROSARIO','11:00':'ROSARIO','12:00':'ROSARIO','16:00':'MILI','17:00':'MILI','18:00':'MILI','19:00':'MILI'},sabado:{'09:00':'MILI','10:00':'MILI','11:00':'MILI','12:00':'MILI'}},colegiales:{lunes:{'08:00':'ROSARIO','09:00':'ROSARIO','10:00':'ROSARIO','11:00':'ROSARIO','12:00':'ROSARIO','13:00':'EUGE','14:00':'EUGE','15:00':'EUGE','16:00':'EUGE','17:00':'GIAN','18:00':'GIAN','19:00':'GIAN','20:00':'GIAN'},martes:{'08:00':'ROSARIO','09:00':'ROSARIO','10:00':'ROSARIO','11:00':'ROSARIO','12:00':'ROSARIO','13:00':'MALENA','14:00':'MALENA','15:00':'MALENA','16:00':'EUGE','17:00':'EUGE','18:00':'EUGE','19:00':'EUGE','20:00':'EUGE'},miercoles:{'08:00':'EUGE','09:00':'EUGE','10:00':'EUGE','11:00':'EUGE','12:00':'EUGE','13:00':'KARI','14:00':'KARI','15:00':'KARI','16:00':'KARI','17:00':'MALENA','18:00':'MALENA','19:00':'MALENA','20:00':'MALENA'},jueves:{'08:00':'ROSARIO','09:00':'ROSARIO','10:00':'ROSARIO','11:00':'ROSARIO','12:00':'ROSARIO','13:00':'CAMI','14:00':'CAMI','15:00':'CAMI','16:00':'CAMI','17:00':'CHIARA','18:00':'CHIARA','19:00':'CHIARA','20:00':'CHIARA'},viernes:{'08:00':'CLAUDIO','09:00':'CLAUDIO','10:00':'CLAUDIO','11:00':'CLAUDIO','12:00':'CLAUDIO','13:00':'CLAUDIO','14:00':'CLAUDIO','15:00':'CLAUDIO','16:00':'EUGE','17:00':'EUGE','18:00':'EUGE','19:00':'EUGE','20:00':'EUGE'},sabado:{'09:00':'CHIARA','10:00':'CHIARA','11:00':'CHIARA','12:00':'CHIARA'}},recoleta:{lunes:{'07:00':'SOLE','08:00':'SOLE','09:00':'SOLE','10:00':'SOLE','11:00':'SOLE','12:00':'CARO','13:00':'CARO','14:00':'CARO','15:00':'CARO','16:00':'CARO','17:00':'CARO','18:00':'CARO','19:00':'CARO','20:00':'CARO'},martes:{'07:00':'FLOR','08:00':'FLOR','09:00':'FLOR','10:00':'FLOR','11:00':'FLOR','12:00':'FLOR','13:00':'SOLE','14:00':'SOLE','15:00':'SOLE','16:00':'SOLE','17:00':'CLAUDIO','18:00':'CLAUDIO','19:00':'CLAUDIO','20:00':'CLAUDIO','21:00':'CLAUDIO'},miercoles:{'07:00':'SOLE','08:00':'SOLE','09:00':'SOLE','10:00':'SOLE','11:00':'CLAUDIO','12:00':'CLAUDIO','13:00':'CLAUDIO','14:00':'CLAUDIO','15:00':'CARO','16:00':'CARO','17:00':'CARO','18:00':'CARO','19:00':'CARO','20:00':'CARO'},jueves:{'07:00':'FLOR','08:00':'FLOR','09:00':'FLOR','10:00':'FLOR','11:00':'FLOR','12:00':'FLOR','13:00':'SOLE','14:00':'SOLE','15:00':'SOLE','16:00':'SOLE','17:00':'KARI','18:00':'KARI','19:00':'KARI','20:00':'KARI'},viernes:{'07:00':'SOLE','08:00':'SOLE','09:00':'SOLE','10:00':'SOLE','11:00':'SOLE','12:00':'MALE','13:00':'MALE','14:00':'MALE','16:00':'FLOR F.','17:00':'FLOR F.','18:00':'FLOR F.','19:00':'FLOR F.','20:00':'FLOR F.'},sabado:{'08:00':'SOLE','09:00':'SOLE','10:00':'SOLE','11:00':'SOLE','12:00':'SOLE'}}};const openWhatsApp=(dia,hora,sede)=>{const sedeName=sedes.find(s=>s.id===sede)?.name||sede;const diaCapital=dia.charAt(0).toUpperCase()+dia.slice(1);const message=`Hola! Me interesa agendar turno fijo en ${sedeName} los ${diaCapital} a las ${hora}`;const url=`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;window.open(url,'_blank')};useEffect(()=>{const params=new URLSearchParams(window.location.search);if(params.get('admin')===ADMIN_KEY)setIsAdmin(true);loadData()},[]);const loadData=async()=>{try{const ls={},lw={};for(const s of['recoleta','colegiales','palermo']){try{const r=await window.firebaseDB.get(`pilates-${s}`);ls[s]=r?JSON.parse(r.value):[]}catch{ls[s]=[]}try{const r=await window.firebaseDB.get(`waitlist-${s}`);lw[s]=r?JSON.parse(r.value):[]}catch{lw[s]=[]}}setSchedules(ls);setWaitlists(lw)}catch(e){console.error(e)}finally{setLoading(false)}};const parseSchedule=t=>{const p=[];t.trim().split('\n').forEach(l=>{const tr=l.trim();if(!tr)return;const pts=tr.split(' - ');if(pts.length>=3){const dh=pts[0].trim().split(/\s+/);if(dh.length>=2){const d=dh[0].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");const h=dh[1];if(/^\d{2}:\d{2}$/.test(h))p.push({dia:d,hora:h,lugar:pts[1].trim().split('(')[0].trim(),profe:pts[pts.length-1].trim()})}}});return p};const checkMatches=(o,n,s)=>{const ok=new Set(o.map(c=>`${c.dia}-${c.hora}`));const nc=n.filter(c=>!ok.has(`${c.dia}-${c.hora}`));const m=[];const w=waitlists[s]||[];nc.forEach(c=>{const wt=w.filter(x=>x.dia===c.dia&&x.hora===c.hora&&!x.contacted);if(wt.length>0)m.push({clase:c,count:wt.length,people:wt})});return m};const saveSched=async()=>{if(!selectedSede||!inputText.trim())return;const p=parseSchedule(inputText);const m=checkMatches(schedules[selectedSede],p,selectedSede);const ns={...schedules,[selectedSede]:p};setSchedules(ns);try{await window.firebaseDB.set(`pilates-${selectedSede}`,JSON.stringify(p));if(m.length>0)setAlerts(m);else alert('¡Horarios actualizados!');setInputText('')}catch{alert('Error al guardar')}};const submitWait=async()=>{if(!waitlistForm.nombre||!waitlistForm.apellido||!waitlistForm.email)return alert('Completá todos los campos');if(!waitlistForm.email.includes('@'))return alert('Email inválido');const e={id:Date.now(),...selectedClass,...waitlistForm,fecha:new Date().toISOString(),contacted:false};const nw=[...(waitlists[selectedSede]||[]),e];setWaitlists({...waitlists,[selectedSede]:nw});try{await window.firebaseDB.set(`waitlist-${selectedSede}`,JSON.stringify(nw));alert('¡Listo, anotado/a! Hay otras personas esperando este horario también, te avisaremos apenas se libere. Mientras tanto podés anotarte en otros que te interesen.');setShowWaitlistModal(false);setWaitlistForm({nombre:'',apellido:'',email:''});setSelectedClass(null)}catch{alert('Error')}};const markContact=async id=>{const nw=waitlists[selectedSede].map(e=>e.id===id?{...e,contacted:true}:e);setWaitlists({...waitlists,[selectedSede]:nw});try{await window.firebaseDB.set(`waitlist-${selectedSede}`,JSON.stringify(nw))}catch{}};const delWait=async id=>{const nw=waitlists[selectedSede].filter(e=>e.id!==id);setWaitlists({...waitlists,[selectedSede]:nw});try{await window.firebaseDB.set(`waitlist-${selectedSede}`,JSON.stringify(nw))}catch{}};const isAvail=(d,h)=>(schedules[selectedSede]||[]).some(c=>c.dia===d&&c.hora===h);const getInfo=(d,h)=>(schedules[selectedSede]||[]).find(c=>c.dia===d&&c.hora===h);const getInst=(d,h,s)=>instructorSchedule[s]?.[d]?.[h]||'';const groupByDay=s=>{const g={};const t=allClassTimes[s];diasOrden.forEach(d=>{if(t[d])g[d]=t[d]});return g};if(loading)return <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center"><div className="text-purple-600 text-xl">Cargando...</div></div>;if(!selectedSede)return <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-6"><div className="max-w-4xl mx-auto"><div className="text-center mb-8 mt-8"><h1 className="text-4xl font-bold text-purple-900 mb-2">Clases Disponibles</h1><p className="text-purple-600">Seleccioná tu sede</p></div><div className="bg-amber-50 border-l-4 border-amber-500 p-4 mb-6 rounded-r-lg"><div className="flex items-start"><AlertCircle className="w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"/><p className="text-sm text-amber-800">La disponibilidad se actualiza manualmente y puede no estar al día. Por favor confirmá tu clase con <a href="https://wa.me/5491127966458" target="_blank" className="font-semibold underline hover:text-amber-900">administración</a>. Todas las clases son con reserva previa.</p></div></div><div className="grid md:grid-cols-3 gap-6 mb-8">{sedes.map(s=><button key={s.id} onClick={()=>setSelectedSede(s.id)} className="bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all hover:scale-105 border-2 border-purple-100"><MapPin className="w-12 h-12 text-purple-600 mx-auto mb-4"/><h3 className="text-2xl font-bold text-purple-900 mb-2">{s.name}</h3><p className="text-purple-600 text-sm">{s.address}</p></button>)}</div>{isAdmin&&<div className="text-center"><button onClick={()=>setMode('admin')} className="text-purple-400 hover:text-purple-600 text-sm flex items-center gap-1 mx-auto"><Edit3 className="w-4 h-4"/>Modo Admin</button></div>}</div></div>;if(mode==='admin'&&isAdmin){const cs=sedes.find(s=>s.id===selectedSede);const cw=waitlists[selectedSede]||[];const gw={};cw.forEach(e=>{const k=`${e.dia}-${e.hora}`;if(!gw[k])gw[k]=[];gw[k].push(e)});return <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-6"><div className="max-w-6xl mx-auto"><div className="flex justify-between items-center mb-6"><div><h1 className="text-3xl font-bold text-purple-900">Modo Administración</h1><p className="text-purple-600">{cs?.name}</p></div><div className="flex gap-2"><button onClick={()=>setMode('client')} className="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2"><Eye className="w-4 h-4"/>Vista Cliente</button><button onClick={()=>setSelectedSede('')} className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">Cambiar Sede</button></div></div>{alerts.length>0&&<div className="bg-yellow-50 border-2 border-yellow-400 rounded-2xl p-6 mb-6"><h3 className="text-xl font-bold text-yellow-900 mb-4 flex items-center gap-2"><Bell className="w-6 h-6"/>¡Atención! Hay gente esperando estos horarios</h3>{alerts.map((a,i)=><div key={i} className="bg-white rounded-lg p-4 mb-3"><div className="font-bold text-purple-900 mb-2 capitalize">{a.clase.dia} {a.clase.hora} - {a.count} {a.count===1?'persona':'personas'}</div>{a.people.map(p=><div key={p.id} className="text-sm text-gray-700 ml-4">• {p.nombre} {p.apellido} - {p.email}</div>)}</div>)}<button onClick={()=>setAlerts([])} className="mt-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700">Entendido</button></div>}<div className="grid lg:grid-cols-2 gap-6 mb-6"><div className="bg-white rounded-2xl p-6 shadow-lg"><label className="block text-purple-900 font-semibold mb-2">Actualizar horarios disponibles:</label><textarea value={inputText} onChange={e=>setInputText(e.target.value)} className="w-full h-64 p-4 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:outline-none font-mono text-sm"/><button onClick={saveSched} className="mt-4 w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700">Guardar Horarios</button></div><div className="bg-white rounded-2xl p-6 shadow-lg"><h3 className="text-xl font-bold text-purple-900 mb-4 flex items-center gap-2"><Clock className="w-6 h-6"/>Lista de Espera ({cw.length})</h3>{cw.length===0?<p className="text-purple-600 text-center py-8">No hay personas en lista de espera</p>:<div className="space-y-4 max-h-96 overflow-y-auto">{Object.entries(gw).map(([k,es])=>{const[d,h]=k.split('-');return <div key={k} className="border-2 border-purple-100 rounded-lg p-4"><div className="font-bold text-purple-900 capitalize mb-2">{d} {h}</div>{es.map(e=><div key={e.id} className={`flex items-center justify-between p-2 rounded mb-2 ${e.contacted?'bg-green-50':'bg-purple-50'}`}><div className="flex-1"><div className="font-medium text-gray-900">{e.nombre} {e.apellido}</div><div className="text-sm text-gray-600 flex items-center gap-1"><Mail className="w-3 h-3"/>{e.email}</div></div><div className="flex gap-2">{!e.contacted&&<button onClick={()=>markContact(e.id)} className="p-2 bg-green-600 text-white rounded hover:bg-green-700"><Check className="w-4 h-4"/></button>}<button onClick={()=>delWait(e.id)} className="p-2 bg-red-600 text-white rounded hover:bg-red-700"><X className="w-4 h-4"/></button></div></div>)}</div>})}</div>}</div></div></div></div>}const cs=sedes.find(s=>s.id===selectedSede);const gt=groupByDay(selectedSede);return <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-6"><div className="max-w-6xl mx-auto"><div className="text-center mb-8"><button onClick={()=>setSelectedSede('')} className="inline-flex items-center gap-2 text-purple-600 hover:text-purple-800 mb-4"><MapPin className="w-5 h-5"/>Cambiar sede</button><h1 className="text-4xl font-bold text-purple-900 mb-2">{cs?.name}</h1><p className="text-purple-600 mb-4">{cs?.address}</p><div className="flex items-center justify-center gap-4 text-sm mb-4"><div className="flex items-center gap-2"><div className="w-4 h-4 bg-green-500 rounded"></div><span className="text-gray-600">Disponible</span></div><div className="flex items-center gap-2"><div className="w-4 h-4 bg-gray-300 rounded"></div><span className="text-gray-600">Sin disponibilidad</span></div></div><div className="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg max-w-2xl mx-auto"><div className="flex items-start"><AlertCircle className="w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"/><p className="text-sm text-amber-800 text-left">La disponibilidad se actualiza manualmente y puede no estar al día. Por favor confirmá tu clase con <a href="https://wa.me/5491127966458" target="_blank" className="font-semibold underline hover:text-amber-900">administración</a>. Todas las clases son con reserva previa.</p></div></div></div><div className="space-y-8">{diasOrden.map(d=>{if(!gt[d])return null;return <div key={d}><h2 className="text-2xl font-bold text-purple-900 capitalize mb-4 flex items-center gap-2"><Calendar className="w-6 h-6"/>{d}</h2><div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">{gt[d].map(h=>{const av=isAvail(d,h);const inf=getInfo(d,h);const inst=getInst(d,h,selectedSede);return <button key={h} onClick={()=>av&&openWhatsApp(d,h,selectedSede)} className={rounded-xl p-4 shadow-md transition-all ${av?'bg-gradient-to-br from-green-400 to-green-600 text-white hover:shadow-lg cursor-pointer':'bg-white border-2 border-gray-200 hover:border-purple-300'}}><div className={text-xl font-bold mb-2 ${av?'text-white':'text-gray-900'}}>{h}</div>{av?<div className="flex items-center gap-1 text-white text-sm"><User className="w-3 h-3"/><span className="font-medium">{inf?.profe}</span></div>:<>{inst&&<div className="flex items-center gap-1 text-gray-600 text-xs mb-2"><User className="w-3 h-3"/><span>{inst}</span></div>}<button onClick={e=>{e.stopPropagation();setSelectedClass({dia:d,hora:h});setShowWaitlistModal(true)}} className="w-full px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium hover:bg-purple-200 flex items-center justify-center gap-1"><Clock className="w-3 h-3"/>Lista de Espera</button></>}</button>})}</div></div>})}</div>{showWaitlistModal&&<div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-6 z-50"><div className="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl"><div className="flex justify-between items-center mb-6"><h3 className="text-2xl font-bold text-purple-900">Lista de Espera</h3><button onClick={()=>{setShowWaitlistModal(false);setWaitlistForm({nombre:'',apellido:'',email:''});setSelectedClass(null)}} className="text-gray-500 hover:text-gray-700"><X className="w-6 h-6"/></button></div><div className="mb-6 p-4 bg-purple-50 rounded-lg"><p className="text-purple-900 font-medium capitalize">{selectedClass?.dia} - {selectedClass?.hora}</p><p className="text-purple-600 text-sm mt-1">Te avisaremos cuando este horario esté disponible</p></div><div className="space-y-4"><div><label className="block text-purple-900 font-medium mb-2">Nombre</label><input type="text" value={waitlistForm.nombre} onChange={e=>setWaitlistForm({...waitlistForm,nombre:e.target.value})} className="w-full p-3 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:outline-none"/></div><div><label className="block text-purple-900 font-medium mb-2">Apellido</label><input type="text" value={waitlistForm.apellido} onChange={e=>setWaitlistForm({...waitlistForm,apellido:e.target.value})} className="w-full p-3 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:outline-none"/></div><div><label className="block text-purple-900 font-medium mb-2">Email</label><input type="email" value={waitlistForm.email} onChange={e=>setWaitlistForm({...waitlistForm,email:e.target.value})} className="w-full p-3 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:outline-none"/></div></div><button onClick={submitWait} className="w-full mt-6 bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors">Anotarme</button></div></div>}{isAdmin&&<div className="text-center mt-8"><button onClick={()=>setMode('admin')} className="text-purple-300 hover:text-purple-400 text-xs">admin</button></div>}</div></div>}ReactDOM.render(<PilatesSchedule/>,document.getElementById('root'))</script></body></html>
